<mat-nav-list>
    <ng-container *ngIf="chats$ | async as chats; else loadingChats">
      <ng-container *ngIf="chats.length > 0; else noChats">
        <a mat-list-item [routerLink]="[chat.id]" *ngFor="let chat of chats">
          <img matListAvatar src="assets/images/user-no-photo.png" [title]="getChatTitle(chat)" alt="chat profile image">
          <h3 matLine>{{ getChatTitle(chat) }}</h3>
          <p matLine>{{ getLastMessage(chat) }}</p>
        </a>
      </ng-container>
    </ng-container>
  </mat-nav-list>

  <ng-template #loadingChats>
    <mat-spinner diameter="50" strokeWidth="3" class="spinner">
    </mat-spinner>
  </ng-template>

  <ng-template #noChats>
    <app-no-record icon="chat_bubble" title="No chats."></app-no-record>
  </ng-template>
